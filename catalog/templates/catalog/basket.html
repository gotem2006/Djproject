{% load static %}
{% load humanize %}
{% load custom_filters %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VITAL MEBEL</title>
    <link rel="stylesheet" href="{% static 'catalog/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'catalog/css/normalize.css' %}">
    <link rel="stylesheet" href="{% static 'catalog/css/basket.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 92 92" id="menu"><path d="M78 23.5H14c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5h64c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5zM84.5 46c0-3.6-2.9-6.5-6.5-6.5H14c-3.6 0-6.5 2.9-6.5 6.5s2.9 6.5 6.5 6.5h64c3.6 0 6.5-2.9 6.5-6.5zm0 29c0-3.6-2.9-6.5-6.5-6.5H14c-3.6 0-6.5 2.9-6.5 6.5s2.9 6.5 6.5 6.5h64c3.6 0 6.5-2.9 6.5-6.5z"></path></svg>
        <div class="logo">
            <a href="{% url 'index' %}">VITAL MEBEL</a>
        </div>
        <div class="container">
            <a href="{% url 'basket_page' %}">
                <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24" id="cart"><path d="M8.5,19A1.5,1.5,0,1,0,10,20.5,1.5,1.5,0,0,0,8.5,19ZM19,16H7a1,1,0,0,1,0-2h8.49121A3.0132,3.0132,0,0,0,18.376,11.82422L19.96143,6.2749A1.00009,1.00009,0,0,0,19,5H6.73907A3.00666,3.00666,0,0,0,3.92139,3H3A1,1,0,0,0,3,5h.92139a1.00459,1.00459,0,0,1,.96142.7251l.15552.54474.00024.00506L6.6792,12.01709A3.00006,3.00006,0,0,0,7,18H19a1,1,0,0,0,0-2ZM17.67432,7l-1.2212,4.27441A1.00458,1.00458,0,0,1,15.49121,12H8.75439l-.25494-.89221L7.32642,7ZM16.5,19A1.5,1.5,0,1,0,18,20.5,1.5,1.5,0,0,0,16.5,19Z"></path></svg>
            </a>
            </div>
        
    </nav>
    <main>
        {% if baskets %}
        <div class="your-order">Ваш заказ:</div>
        <div class="basket-list">
            {% for basket in baskets %}
            <div class="basket-product">
                <img src="{{ basket.product.images.url }}">
                <div class="item-name">{{basket.product.name}}</div>
                <div class="left-content-container">
                    <a href="{% url 'basket_quantity' basket.product.id %}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20ZM16 11H8C7.73479 11 7.48043 11.1054 7.2929 11.2929C7.10536 11.4804 7 11.7348 7 12C7 12.2652 7.10536 12.5196 7.2929 12.7071C7.48043 12.8946 7.73479 13 8 13H16C16.2652 13 16.5196 12.8946 16.7071 12.7071C16.8946 12.5196 17 12.2652 17 12C17 11.7348 16.8946 11.4804 16.7071 11.2929C16.5196 11.1054 16.2652 11 16 11Z" fill="black"/>
                        </svg>
                    </a>
                    <div class="qauntity">{{basket.qauntity}}</div>
                    <a href="{% url 'basket_add' basket.product.id %}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_53_42)">
                            <path d="M12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z" fill="black"/>
                            <path d="M15 11H13V9C13 8.73478 12.8946 8.48043 12.7071 8.29289C12.5196 8.10536 12.2652 8 12 8C11.7348 8 11.4804 8.10536 11.2929 8.29289C11.1054 8.48043 11 8.73478 11 9V11H9C8.73478 11 8.48043 11.1054 8.29289 11.2929C8.10536 11.4804 8 11.7348 8 12C8 12.2652 8.10536 12.5196 8.29289 12.7071C8.48043 12.8946 8.73478 13 9 13H11V15C11 15.2652 11.1054 15.5196 11.2929 15.7071C11.4804 15.8946 11.7348 16 12 16C12.2652 16 12.5196 15.8946 12.7071 15.7071C12.8946 15.5196 13 15.2652 13 15V13H15C15.2652 13 15.5196 12.8946 15.7071 12.7071C15.8946 12.5196 16 12.2652 16 12C16 11.7348 15.8946 11.4804 15.7071 11.2929C15.5196 11.1054 15.2652 11 15 11Z" fill="black"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_53_42">
                            <rect width="24" height="24" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </a>
                    <div class="qauntity price">{{basket.sum|floatformat|intcomma|stringreplace}}
                        <div class="trash">
                            <a href="{% url 'basket_del' basket.product.id %}">
                                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.5 22.5C12.8315 22.5 13.1495 22.3683 13.3839 22.1339C13.6183 21.8995 13.75 21.5815 13.75 21.25V13.75C13.75 13.4185 13.6183 13.1005 13.3839 12.8661C13.1495 12.6317 12.8315 12.5 12.5 12.5C12.1685 12.5 11.8505 12.6317 11.6161 12.8661C11.3817 13.1005 11.25 13.4185 11.25 13.75V21.25C11.25 21.5815 11.3817 21.8995 11.6161 22.1339C11.8505 22.3683 12.1685 22.5 12.5 22.5ZM25 7.5H20V6.25C20 5.25544 19.6049 4.30161 18.9017 3.59835C18.1984 2.89509 17.2446 2.5 16.25 2.5H13.75C12.7554 2.5 11.8016 2.89509 11.0983 3.59835C10.3951 4.30161 10 5.25544 10 6.25V7.5H5C4.66848 7.5 4.35054 7.6317 4.11612 7.86612C3.8817 8.10054 3.75 8.41848 3.75 8.75C3.75 9.08152 3.8817 9.39946 4.11612 9.63388C4.35054 9.8683 4.66848 10 5 10H6.25V23.75C6.25 24.7446 6.64509 25.6984 7.34835 26.4017C8.05161 27.1049 9.00544 27.5 10 27.5H20C20.9946 27.5 21.9484 27.1049 22.6517 26.4017C23.3549 25.6984 23.75 24.7446 23.75 23.75V10H25C25.3315 10 25.6495 9.8683 25.8839 9.63388C26.1183 9.39946 26.25 9.08152 26.25 8.75C26.25 8.41848 26.1183 8.10054 25.8839 7.86612C25.6495 7.6317 25.3315 7.5 25 7.5ZM12.5 6.25C12.5 5.91848 12.6317 5.60054 12.8661 5.36612C13.1005 5.1317 13.4185 5 13.75 5H16.25C16.5815 5 16.8995 5.1317 17.1339 5.36612C17.3683 5.60054 17.5 5.91848 17.5 6.25V7.5H12.5V6.25ZM21.25 23.75C21.25 24.0815 21.1183 24.3995 20.8839 24.6339C20.6495 24.8683 20.3315 25 20 25H10C9.66848 25 9.35054 24.8683 9.11612 24.6339C8.8817 24.3995 8.75 24.0815 8.75 23.75V10H21.25V23.75ZM17.5 22.5C17.8315 22.5 18.1495 22.3683 18.3839 22.1339C18.6183 21.8995 18.75 21.5815 18.75 21.25V13.75C18.75 13.4185 18.6183 13.1005 18.3839 12.8661C18.1495 12.6317 17.8315 12.5 17.5 12.5C17.1685 12.5 16.8505 12.6317 16.6161 12.8661C16.3817 13.1005 16.25 13.4185 16.25 13.75V21.25C16.25 21.5815 16.3817 21.8995 16.6161 22.1339C16.8505 22.3683 17.1685 22.5 17.5 22.5Z" fill="black"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            {% endfor %}
        <div>
        <div class="total-price">
            Итог: {{ total_price|floatformat|intcomma|stringreplace }}
            <div class="otstup">
                <a href="{% url 'orders:MakeOrder' %}">
                    <button class="order-button" >Заказать</button>
                </a>
            </div>
        </div>
        {% else %}
        <div class="clear-basket">
            <svg width="256" height="256" viewBox="0 0 256 256" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M90.6668 202.667C87.5023 202.667 84.4089 203.605 81.7777 205.363C79.1465 207.121 77.0958 209.62 75.8848 212.544C74.6738 215.467 74.3569 218.684 74.9743 221.788C75.5916 224.892 77.1155 227.743 79.3531 229.98C81.5908 232.218 84.4417 233.742 87.5454 234.359C90.6491 234.977 93.8661 234.66 96.7898 233.449C99.7134 232.238 102.212 230.187 103.97 227.556C105.728 224.925 106.667 221.831 106.667 218.667C106.667 214.423 104.981 210.354 101.981 207.353C98.98 204.352 94.9103 202.667 90.6668 202.667ZM202.667 170.667H74.6668C71.8379 170.667 69.1247 169.543 67.1244 167.542C65.124 165.542 64.0002 162.829 64.0002 160C64.0002 157.171 65.124 154.458 67.1244 152.458C69.1247 150.457 71.8379 149.333 74.6668 149.333H165.24C172.188 149.311 178.942 147.037 184.49 142.853C190.038 138.669 194.08 132.8 196.011 126.125L212.922 66.9323C213.376 65.3448 213.455 63.6736 213.153 62.0504C212.851 60.4272 212.176 58.8962 211.182 57.5779C210.188 56.2597 208.902 55.1902 207.424 54.4537C205.946 53.7171 204.318 53.3336 202.667 53.3333H71.8836C69.6754 47.1185 65.6049 41.7356 60.2266 37.918C54.8482 34.1005 48.4237 32.0339 41.8283 32H32.0002C29.1712 32 26.4581 33.1238 24.4577 35.1242C22.4573 37.1246 21.3335 39.8377 21.3335 42.6667C21.3335 45.4956 22.4573 48.2087 24.4577 50.2091C26.4581 52.2095 29.1712 53.3333 32.0002 53.3333H41.8283C44.1439 53.3414 46.3945 54.0994 48.2432 55.4937C50.0919 56.888 51.4393 58.8436 52.0835 61.0677L53.7424 66.8783L53.7449 66.9323L71.245 128.182C63.1016 129.058 55.6041 133.023 50.2963 139.261C44.9885 145.499 42.2744 153.534 42.713 161.713C43.1515 169.891 46.7092 177.59 52.6536 183.225C58.598 188.859 66.4765 192 74.6668 192H202.667C205.496 192 208.209 190.876 210.209 188.876C212.21 186.875 213.334 184.162 213.334 181.333C213.334 178.504 212.21 175.791 210.209 173.791C208.209 171.79 205.496 170.667 202.667 170.667ZM188.526 74.6667L175.5 120.26C174.857 122.486 173.509 124.444 171.659 125.839C169.809 127.235 167.557 127.993 165.24 128H93.3803L90.661 118.483L78.1486 74.6667H188.526ZM176 202.667C172.836 202.667 169.742 203.605 167.111 205.363C164.48 207.121 162.429 209.62 161.218 212.544C160.007 215.467 159.69 218.684 160.308 221.788C160.925 224.892 162.449 227.743 164.686 229.98C166.924 232.218 169.775 233.742 172.879 234.359C175.982 234.977 179.199 234.66 182.123 233.449C185.047 232.238 187.546 230.187 189.304 227.556C191.062 224.925 192 221.831 192 218.667C192 214.423 190.314 210.354 187.314 207.353C184.313 204.352 180.244 202.667 176 202.667Z" fill="#D9D9D9"/>
            </svg>
            <div>Ваша корзина пуста</div>
            <div class="clear-button">
                <a href="{% url 'index' %}">
                    <button>Перейти в каталог</button>
                </a>
            </div>
        </div>
        {% endif %}
    </main>
</body>
</html>